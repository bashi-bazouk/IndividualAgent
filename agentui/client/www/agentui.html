<!DOCTYPE html>
<html>
	<head>
        <title>Agent UI</title>
        <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
        <style type="text/css" media="all">
            @import url("css/agentui-style.css");
        </style>
        <style type="text/css" media="all">
            @import url("css/jquery-ui-1.10.3.custom/redmond/jquery-ui-1.10.3.custom.min.css");
        </style>
        <script src="js/jquery-1.10.2.js"></script>
        <script src="js/jquery-ui-1.10.3.js"></script>
        <script src="js/snap.svg.js"></script>
        <script src="js/d3.js" charset="utf-8"></script>
        <script src="js/AgentUi.js"></script>
		<script>
            $(document).ready(function() {
            	ui.AgentUi.start();

            	window.onload = fitWindow;
                $(window).resize(fitWindow);
                fitWindow();
            });

        	function fitWindow() {
			    $('.spacer').height(0).css("max-height", "0").css("min-height", "0");
			    
			    var middleContainer = $('#middleContainer');
			    var leftContainer = $('#sideLeft');
			    var rightContainer = $('#sideRight');


			    fixHeight($('#middleContainer'), $('#middleContainerSpacer'));
			    fixHeight($('#sideLeft'), $('#sideLeftSpacer'));
			    fixHeight($('#sideRight'), $('#sideRightSpacer'));
			}
			
		    function fixHeight(container, spacer) {
		    	var header = $("header");
		    	var contentHeight = $(window).height() - header.height() - 45/*header.css("margin-bottom")*/;
		    	var containerHeight = container.height();
				if(containerHeight < contentHeight) {
			        var newHeight = contentHeight - containerHeight;
			        spacer.css({"height": newHeight, "max-height": newHeight, "min-height": newHeight});
			    }
		    }
        </script>
    </head>
    <body>
    	<div id="wrap">
    		<header id="header" class="ui-widget-header ui-corner-top">
    			<div style="margin-top: 10px;"><strong style='font-size: xx-large;'>The Agency</strong></div>
    		</header>
    		<section id="middleSection">

				<div id="middleContainer">
					<div id="content">
						<div id="filter" class="container " style="">
							<!-- <div id="filterTrash">
								<img src="media/trash.png" alt="trash"  title="Drag items here to remove them from the filter, or double-click to clear." style=""/>
							</div> -->
						</div>
						<div id="tabs" class="shadow">
							<ul>
							    <li><a href="#tabs-feed">Feed</a></li>
							    <li><a href="#tabs-score">Score</a></li>
							</ul>
							<div id="tabs-feed">
								<div id="feed" class="container" style="padding: 10px;">
									<div id="postInput"></div>
									<div id="middleContainerSpacer" class="spacer"></div>
								</div>
							</div><!-- #tabs-feed-->
							<div id="tabs-score">
								<div id="score-div">
								<svg xmlns="http://www.w3.org/2000/svg" 
 									 xmlns:xlink="http://www.w3.org/1999/xlink"
 									 xmlns:svg="http://www.w3.org/2000/svg"
 									 xmlns:zhtml="http://www.w3.org/1999/xhtml"
 									 id="score-comp-svg" width="1000" height="500">
 								</svg>
								</div>
							</div><!-- #tabs-score-->
						</div>
						
					</div><!-- #content-->
				</div><!-- #container-->

				<aside id="sideLeft">
					<div id="userId" class="ocontainer shadow"></div>

					<div id="labelc" class="ocontainer shadow">
						<div class="container">
							<div id="labelsList" class="icontainer">
								<div id="sideLeftSpacer" class="spacer"></div>
							</div>
							<div id="help" class="icontainer" style="min-height: 90px; margin-top: 15px;">
								<p> 
									Tip: try picking up a label and dropping it into the filter box at the 
									top of the central content pane 
								</p>
							</div>
						</div>
					</div>
				</aside><!-- #sideLeft -->
				<aside id="sideRight">
					<div id="" class="ocontainer shadow">
						<div class="container">
							<!-- <div id="sideRightInvite"></div> -->
							<div id="sideRightSearch">
								<div id="sideRightAddWrapper" class="shadow">
									<div id="sideRightAdd">+</div>
								</div>
								<input id="sideRightSearchInput" class="ui-widget-content shadow" />
							</div>
							<div id="connections" class="icontainer connectionDT">
								<div id="sideRightSpacer" class="spacer clear"></div>
							</div>
							<div id="chat"></div>
							<!-- <div id="chat" class="icontainer" style="min-height: 205px; margin-top: 15px;">
								<ul>
								    <li><a href="#chat-kramer" style="padding: .1em .2em;font-size: .8em;"><img src="media/test/kramer.jpg" class=""></a></li>
								    <li><a href="#chat-george" style="padding: .1em .2em;font-size: .8em;"><img src="media/test/george.jpg" class=""></a></li>
								</ul>
								<div id="chat-kramer" class="chatContainer" style="">
									<div class="chatMsgs">
										<div class="chatMsg chatLeft ui-helper-clearfix">
											<div class="name">Hey Jerry! What's up?</div>
										</div>
										<div class="chatMsg chatRight ui-helper-clearfix">
											<div class="name">Hi Kramer. Not much. You?</div>
										</div>
										<div class="chatMsg chatLeft ui-helper-clearfix">
											<div class="name">Wanna grab some coffee?</div>
										</div>
									</div>
									<div class="chatInput">
										<input type="text" class="ui-corner-all ui-widget-content boxsizingBorder" />
									</div>
								</div>
								<div id="chat-george" class="chatContainer"  style="">
									<div class="chatMsgs">
										<div class="chatMsg chatRight ui-helper-clearfix">
											<div class="name">Hey George! Wanna meet Kramer and I for coffee?</div>
										</div>
										<div class="chatMsg chatLeft ui-helper-clearfix">
											<div class="name">Sounds great. When/where?</div>
										</div>
										<div class="chatMsg chatRight ui-helper-clearfix">
											<div class="name">Tom's @ 3pm</div>
										</div>
									</div>
									<div class="chatInput">
										<input type="text" class="ui-corner-all ui-widget-content boxsizingBorder" />
									</div>
								</div>
							</div>
						</div> -->
					</div>

				</aside><!-- #sideRight -->

			</section><!-- #middle-->
    	</div>
    	<div id="floaters"></div>
    </body>
</html>